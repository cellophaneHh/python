import hashlib
import hmac
import io
import pickle
import pprint

def make_digest(message):
    "Return a digest for the message"
    hash = hmac.new(
        b'secret-ahsred-key-goes-here',
        message,
        hashlib.sha1
    )
    return hash.hexdigest().encode('utf-8')

class SimpleObject:
    """
    Demonstrate checking digests before unpickling.
    """

    def __init__(self, name):
        self.name = name

    def __str__(self):
        return self.name




